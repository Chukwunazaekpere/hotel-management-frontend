(this.webpackJsonphotelmgt=this.webpackJsonphotelmgt||[]).push([[0],{37:function(e,t,a){e.exports=a(72)},42:function(e,t,a){},43:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(1),o=a.n(n),r=a(30),l=a.n(r),s=a(2),m=a(36),c=a(3),i=a(4),u=a(7),h=a(6),d=a(5),p=(a(42),a(32)),E=a(33),g=(a(43),a(14),function(){var e=["occupant-details","complete-booking-reservation","/","services","about","contact-us"];return o.a.createElement("section",null,o.a.createElement("div",{className:"sidebar"},["Make reservation","Complete your reservation","Home","Services","About","Contact-us"].map((function(t,a){return o.a.createElement("span",{key:t,className:"sidebar-menu"},o.a.createElement(d.c,{to:e[a]},t))}))))}),v=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e={fontStyle:"italic",fontWeight:"bold"},t=["/","services","about","contact-us"],a=this.props,n=a.sidebarHandler,r=a.isToggled;return console.log("\n\t value: ",n),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("section",{className:"site-name col-md-4"},o.a.createElement("h3",{className:"animate__animated animate__heartBeat animate__infinite"},"Hotel Celestial")),o.a.createElement("section",{className:"navbar-buttons col-md-5"},r?null:o.a.createElement("section",{className:"button-styles"},["Home","Services","About","Contact-us"].map((function(a,n){return o.a.createElement("span",{key:a},o.a.createElement(d.c,{to:t[n],className:"btn text-white",activeStyle:e},a))})))),o.a.createElement("section",{className:"animate__animated animate__heartBeat animate__infinite nav-menu-bar"},r?o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"#"},o.a.createElement(E.a,{onClick:n}),o.a.createElement("h6",{className:"text-white"},"Collapse details"))):o.a.createElement(o.a.Fragment,null,o.a.createElement(d.b,{to:"#"},o.a.createElement(p.a,{onClick:n})),o.a.createElement("h6",{className:"text-white"},"More details here...")))))}}]),a}(o.a.Component),b=function(e){var t=e.component,a=e.path,n=Object(m.a)(e,["component","path"]);return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement(v,null),o.a.createElement(s.b,Object.assign({},n,{render:function(e){return o.a.createElement(s.b,{path:"/".concat(a),component:t})}})))))},f=a(35),N=(a(49),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.action,a=e.text,n=e.path,r=e.submitRegistration,l=e.submitLogin,s=e.logoutHandler,m=e.resetPassword,c=e.showRoomList,i=e.directToBookRoomPage;return o.a.createElement("div",{className:"btn-styles"},"Forgot password ?"===n?o.a.createElement(d.b,{to:"/forgot-password",className:"btn btn-secondary"},n):"username-login"===n?o.a.createElement(d.b,{to:"".concat(n),className:"btn btn-info"},t):"roomlist"===n?o.a.createElement(d.b,{to:"/".concat(n),onClick:c,className:"btn btn-info"},t||a):"payment"===n?o.a.createElement(d.b,{to:"".concat(n),onClick:c,className:"btn btn-payment"},a):"Sign up"===t?o.a.createElement("button",{className:"btn btn-success",onClick:r},t):"Complete your reservation"===t?o.a.createElement("button",{className:"btn btn-success",onClick:l},t):"Log out"===t?o.a.createElement("button",{className:"btn btn-success",onClick:s},t):"Reset password"===t?o.a.createElement("button",{className:"btn btn-success",onClick:m},t):"Book room"===t?o.a.createElement("button",{className:"btn btn-info",onClick:i},t):o.a.createElement(d.b,{to:["/","/celestial"],className:"btn btn-primary"},"Go Back To Homepage"))}}]),a}(o.a.Component)),y=(a(50),function(e){var t=Object(n.useState)(!1),a=Object(f.a)(t,2),r=a[0],l=a[1];if("/"===e.match.path||"/celestial"===e.match.path)return o.a.createElement("div",{className:"welcome-screen"},o.a.createElement("section",{className:"row navbar-section"},o.a.createElement("section",{className:"col"},o.a.createElement(v,{sidebarHandler:function(){return l(!r)},isToggled:r}))),o.a.createElement("section",{className:"row"},o.a.createElement("span",{className:"sidebar col-md-3"},r?o.a.createElement("li",null,o.a.createElement(g,null)):null),o.a.createElement("h1",{className:"col welcome-text animate__animated animate__flash animate__infinite mt-5"},"Hospitality, Kingly...")))}),w=new(function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={authState:!1},n}return Object(i.a)(a,[{key:"isAuthenticated",value:function(){return this.state.authState}},{key:"changeAuthState",value:function(e){this.setState({authState:e})}},{key:"render",value:function(){return o.a.createElement("div",null)}}]),a}(o.a.Component)),F=a(12),R=a.n(F),k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.loginForm;t[e.target.name]=e.target.value,n.setState({loginForm:t}),n.populateLoginFormDetails(e.target.name,e.target.value)},n.handleLogin=function(){R.a.post("http://127.0.0.1:8000/auth/login/",n.state.loginFormDetails).then((function(e){n.setState({allowLogin:!0}),w.changeAuthState(n.state.allowLogin)})).catch((function(e){return n.setState({loginFormErrors:e.response.data})}))},n.state={loginForm:{Email:"",Password:""},loginFormDetails:{},formErrors:{},allowLogin:!1,loginFormErrors:{}},n}return Object(i.a)(a,[{key:"populateLoginFormDetails",value:function(e,t){var a=this.state.loginFormDetails;a[e]=t,this.setState({loginFormDetails:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.loginForm)t.push(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5 mb-3"}," "),o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement("h2",null,"Log in:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mb-3"}," "),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-3 ml-3"},t.map((function(t,a){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.formErrors[t]),o.a.createElement("input",{className:"mt-3 mb-2 form-control",type:"Email"===t?"email":"password",placeholder:a>2?"Ensure both password fields are the same":"",name:t,value:e.state.loginForm[t],onChange:e.handleChange}))})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mr-4 mb-3 mt-3"},o.a.createElement(N,{action:"Log in",submitLogin:this.handleLogin,path:"dashboard"})),o.a.createElement("div",{className:"col ml-3 mb-3 mt-3"},o.a.createElement(N,{path:"Forgot password ?"}))),o.a.createElement("div",{className:"row mt-3"},o.a.createElement("div",{className:"col-10 mb-2 ml-5"},o.a.createElement(N,{action:"Log in with username instead",path:"username-login",resetPassword:this.handleResetPassword}))))))}}]),a}(o.a.Component),_=function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Dashboard"))},S=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.signupForm;t[e.target.name]=e.target.value,n.setState({signupForm:t}),n.populateSignupFormDetails(e.target.name,e.target.value)},n.handleSignup=function(e){console.log("\n\t Props: signing in..."),R.a.post("http://localhost:8000/auth/registration/",n.state.signupFormDetails).then((function(e){n.setState({allowSignin:!0}),w.changeAuthState(n.state.allowSignin),console.log(e.data)})).catch((function(e){n.setState({signupFormErrors:e.response.data}),console.log(e.response.data)}))},n.state={signupForm:{Firstname:"",Lastname:"",Email:"",Password:"","Confirm password":""},signupFormDetails:{},signupFormErrors:{},allowSignin:!1},n}return Object(i.a)(a,[{key:"populateSignupFormDetails",value:function(e,t){var a=this.state.signupFormDetails;a[e]=t,this.setState({signupFormDetails:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.signupForm)t.push(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5 mb-3"}," "),o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement("h2",null,"Sign up:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mb-3"}," "),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-3 ml-3"},t.map((function(t,a){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.signupFormErrors[t]),o.a.createElement("input",{className:"mt-3 mb-2 form-control",type:"Email"===t?"email":a<=1?"text":"password",placeholder:a>2?"Ensure both password fields are the same.":"",name:t,value:e.state.signupForm[t],onChange:e.handleChange}))})),o.a.createElement("div",{className:"mb-3 mt-3"},o.a.createElement(N,{action:"Sign up",submitRegistration:this.handleSignup,path:"dashboard"})))),o.a.createElement("div",null,!0===this.state.allowSignin?o.a.createElement(b,{path:"/dashboard",component:_}):o.a.createElement(s.a,{to:"/signin"})))}}]),a}(o.a.Component),C=a(34),D=function(){var e=Object(C.a)({fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif",backgroundColor:"aquamarine",minHeight:"100vh",fontWeight:"bold",fontStyle:"italic",color:"white"},"fontWeight","bold");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row",style:e},o.a.createElement("div",{className:"col-4 mt-5 mb-5"}),o.a.createElement("div",{className:"col-4 mt-5"},o.a.createElement("h1",null,"PAGE NOT FOUND"),o.a.createElement("div",{className:"ml-5 col-8"},o.a.createElement(N,null)))))},O=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(){},n.handleResetPassword=function(){R.a.post("http<//127.0.0.1:8000/auth/reset-password",n.state.Email).then((function(e){n.setState({allowReset:!0}),w.changeAuthState(n.state.allowReset)})).catch((function(e){n.setState({formErrors:e.response.data})}))},n.state={Email:"",allowReset:!1,formErrors:{}},n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col-5 mt-5"})),o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col-4 ml-5"}),o.a.createElement("div",{className:"col-3 ml-4"},o.a.createElement("h2",null,"Password Reset:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-3 mr-5"}),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-5 form-group"},o.a.createElement("h5",{className:"mt-2"},"Email:"),this.state.formErrors.Email,o.a.createElement("input",{className:"form-control mb-3",type:"email",name:"Email",onChange:this.handleChange,placeholder:"Please enter the email-address you provided upon registration.",value:this.state.Email}),o.a.createElement("div",{className:"row mb-2 mt-2"},o.a.createElement("div",{className:"col-6"},o.a.createElement(N,{action:"Reset password"})),o.a.createElement("div",{className:"col ml-4"},o.a.createElement(N,{action:"Log in with username instead",path:"username-login",resetPassword:this.handleResetPassword}))))))}}]),a}(o.a.Component),j=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.loginForm;t[e.target.name]=e.target.value,n.setState({loginForm:t}),n.populateLoginFormDetails(e.target.name,e.target.value)},n.handleLogin=function(){R.a.post("http://127.0.0.1:8000/auth/login/",n.state.loginFormDetails).then((function(e){n.setState({allowLogin:!0}),w.changeAuthState(n.state.allowLogin)})).catch((function(e){return n.setState({loginFormErrors:e.response.data})}))},n.state={loginForm:{Username:"",Password:""},loginFormDetails:{},formErrors:{},allowLogin:!1,loginFormErrors:{}},n}return Object(i.a)(a,[{key:"populateLoginFormDetails",value:function(e,t){var a=this.state.loginFormDetails;a[e]=t,this.setState({loginFormDetails:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.loginForm)t.push(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5 mb-3"}," "),o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement("h2",null,"Log in:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mb-3"}," "),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-3 ml-3"},t.map((function(t,a){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.formErrors[t]),o.a.createElement("input",{className:"mt-3 mb-2 form-control",type:"Email"===t?"email":"password",placeholder:a>2?"Ensure both password fields are the same":"",name:t,value:e.state.loginForm[t],onChange:e.handleChange}))})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mr-4 mb-3 mt-3"},o.a.createElement(N,{action:"Log in",submitLogin:this.handleLogin,path:"dashboard"})),o.a.createElement("div",{className:"col ml-3 mb-3 mt-3"},o.a.createElement(N,{path:"Forgot password ?"}))))))}}]),a}(o.a.Component),L=(a(68),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.roomReservationForm;t[e.target.name]=e.target.value,n.setState({roomReservationForm:t}),n.updateReservationDetails(e.target.name,e.target.value)},n.handleShowRoomList=function(e){e.preventDefault(),R.a.post("http://localhost:8000/create-occupant/",{firstname:n.state.roomReservationDetails.Firstname,lastname:n.state.roomReservationDetails.Lastname,email:n.state.roomReservationDetails.Email,phone:n.state.roomReservationDetails.Phone,duration:n.state.roomReservationDetails.Duration}).then((function(e){console.log("\n\t Status: ",e.status),n.setState({toggleRoomListDisplay:!0})})).catch((function(e){console.log("\n\t There were errors..."),n.setState({formErrorDetails:e.response.data}),console.log("\n\t Errors: ",e.response.data),console.log("\n\t State Errors: ",n.state.formErrorDetails)}))},n.state={roomReservationForm:{Firstname:"",Lastname:"",Email:"",Phone:"",Duration:""},roomReservationDetails:{},formErrorDetails:{},toggleRoomListDisplay:!1},n}return Object(i.a)(a,[{key:"updateReservationDetails",value:function(e,t){var a=this.state.roomReservationDetails;a[e]=t,this.setState({roomReservationDetails:a}),console.log("\n\t Details: ",this.state.roomReservationDetails)}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.roomReservationForm)t.push(a);return o.a.createElement("div",{className:"background-style"},o.a.createElement("section",{className:"bg bg-textheading col-md-5"},o.a.createElement("h3",{className:"animate__animated animate__pulse animate__repeat-3  3 col- mt-5 ml-5"},"Please fill in the required details to see the available rooms.")),o.a.createElement("section",{className:"form-style"},o.a.createElement("div",{className:"input-fields col-md-6 animate__animated animate__swing"},t.map((function(t){return o.a.createElement("div",{key:t,className:"form-group"},o.a.createElement("h5",{className:"mt-3 text-white"},t,":"),o.a.createElement("h4",null,e.state.formErrorDetails["".concat(t.toLowerCase())]),o.a.createElement("input",{className:"form-control ",type:"Email"===t?"email":"Phone"===t?"tel":"Duration"===t?"number":"text",min:"Duration"===t?1:"",onChange:e.handleChange,value:e.state.roomReservationForm[t],name:t,placeholder:"Duration"===t?"Please, how long are you staying?":"Email"===t?"Please enter an active email address":"Lastname"===t?"Your surname, please.":""}))})),o.a.createElement("div",{className:"submit-button"},o.a.createElement(N,{action:"Available Rooms",path:"roomlist",showRoomList:this.handleShowRoomList})))),!0===this.state.toggleRoomListDisplay?o.a.createElement(s.a,{to:{pathname:"/roomlist",state:{occupant_details:this.state.roomReservationDetails}}}):o.a.createElement(s.a,{to:"/occupant-details"}))}}]),a}(o.a.Component)),P=(a(69),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).bookingHandler=function(e){var t=e;n.setState({permitRoomBooking:!0}),n.setState({chosenRoomDetails:t})},n.state={listOfRooms:[],permitRoomBooking:!1,chosenRoomDetails:{},occupant_details:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({permitRoomBooking:!1}),R.a.get("http://127.0.0.1:8000/roomslist/").then((function(t){console.log("\n\t Rooms: ",t.data),e.setState({listOfRooms:t.data})})).catch((function(){e.setState({listOfRooms:"There are no available rooms yet"})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.listOfRooms?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("h2",{className:"col"},"Available Rooms:")),o.a.createElement("table",{className:"table table-striped table-hover table_style\r animate__animated animate__heartBeat"},o.a.createElement("thead",null,o.a.createElement("tr",null,["Room type","Room price","Room number","Status"].map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",null,this.state.listOfRooms.map((function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,t.room_type),o.a.createElement("td",null,t.room_price),o.a.createElement("td",null,t.room_number),o.a.createElement("td",null,t.room_status),o.a.createElement("span",null,o.a.createElement(N,{action:"Book room",directToBookRoomPage:function(){return e.bookingHandler(t)}})))}))))):o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"There are no available rooms yet")),!0===this.state.permitRoomBooking?o.a.createElement(s.a,{to:{pathname:"/room-reservation",state:{room_details:this.state.chosenRoomDetails,occupant_details:this.state.occupant_details}}}):o.a.createElement(s.a,{to:"/roomlist"}))}}]),a}(o.a.Component)),x=(a(70),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChangePhone=function(e){e.preventDefault(),n.setState({occupants_phone:e.target.value})},n.state={room_details:{},occupants_phone:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){if(this.props.location.state){var e=this.props.location.state.room_details;console.log("Room Details",e),this.setState({room_details:e})}}},{key:"render",value:function(){var e=this,t=["room_type","room_price","room_number"];return o.a.createElement("div",{className:"row reservation_style animate__animated animate__pulse"},o.a.createElement("section",{className:"form-style form-group col-4"},o.a.createElement("h3",{className:"mt-3"}," Room Details:"),["Room-type","Room-price","Room-number"].map((function(a,n){return o.a.createElement("span",{key:n},o.a.createElement("h5",{className:"col-4"}," ",a," ")," ",o.a.createElement("br",null),o.a.createElement("input",{className:"col form-control",disabled:!0,name:a,defaultValue:e.state.room_details[t[0]],value:e.state.room_details[t[0]]}))})),o.a.createElement("span",{className:"mb-3"},o.a.createElement(N,{path:"roomlist",text:"Change room"}))),o.a.createElement("section",{className:"form-style form-group col-4 ml-2"},o.a.createElement("h4",null," Please enter your phone number to proceed: "),o.a.createElement("span",null,o.a.createElement("input",{className:"form-control",type:"tel",required:"true",name:"phone",value:this.state.occupants_phone,onChange:this.handleChangePhone,placeholder:"Please enter your phone number"})," ",o.a.createElement("br",null)),o.a.createElement("strong",null,"Please ensure the provided data is valid."),o.a.createElement("span",{className:"mt-4"},o.a.createElement(N,{path:"payment",text:"Proceed to payment"}))))}}]),a}(o.a.Component)),T=function(){return o.a.createElement("div",null,o.a.createElement(s.d,null,o.a.createElement(s.b,{path:["/","/celestial"],exact:!0,component:y}),o.a.createElement(s.b,{path:"/login",component:k}),o.a.createElement(s.b,{path:"/signin",component:S}),o.a.createElement(s.b,{path:"/forgot-password",component:O}),o.a.createElement(s.b,{path:"/username-login",component:j}),o.a.createElement(s.b,{path:"/occupant-details",component:L}),o.a.createElement(s.b,{path:"/roomlist",component:P}),o.a.createElement(s.b,{path:"/room-reservation",component:x}),o.a.createElement(s.b,{component:D})))},B=function(){return o.a.createElement("div",{className:" img App"},o.a.createElement(s.d,null,o.a.createElement(T,{exact:!0}),o.a.createElement(b,null)))};a(71);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d.a,null,o.a.createElement(B,null))),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.9837a120.chunk.js.map