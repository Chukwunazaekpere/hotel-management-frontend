(this.webpackJsonphotelmgt=this.webpackJsonphotelmgt||[]).push([[0],{20:function(e,t,a){},33:function(e,t,a){e.exports=a(66)},38:function(e,t,a){},39:function(e,t,a){},62:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(30),l=a.n(r),s=(a(20),a(1)),m=(a(38),a(32)),c=a(2),i=a(3),u=a(5),h=a(4),d=a(7),p=(a(39),a(14),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.action,a=e.text,n=e.path,r=e.submitRegistration,l=e.submitLogin,s=e.logoutHandler,m=e.resetPassword,c=e.showRoomList,i=e.directToBookRoomPage;return o.a.createElement("div",{className:"btn-styles"},"Complete your reservation"===n?o.a.createElement(d.b,{to:"".concat(n),className:"btn btn-secondary"},n):"Make reservation"===n?o.a.createElement(d.b,{to:"/occupant-details",className:"btn btn-secondary"},n):"Forgot password ?"===n?o.a.createElement(d.b,{to:"/forgot-password",className:"btn btn-secondary"},n):"username-login"===n?o.a.createElement(d.b,{to:"".concat(n),className:"btn btn-info"},t):"roomlist"===n?o.a.createElement(d.b,{to:"/".concat(n),onClick:c,className:"btn btn-info"},t||a):"payment"===n?o.a.createElement(d.b,{to:"".concat(n),onClick:c,className:"btn btn-payment"},a):"Sign up"===t?o.a.createElement("button",{className:"btn btn-success",onClick:r},t):"Complete your reservation"===t?o.a.createElement("button",{className:"btn btn-success",onClick:l},t):"Log out"===t?o.a.createElement("button",{className:"btn btn-success",onClick:s},t):"Reset password"===t?o.a.createElement("button",{className:"btn btn-success",onClick:m},t):"Book room"===t?o.a.createElement("button",{className:"btn btn-info",onClick:i},t):o.a.createElement(d.b,{to:"/",className:"btn btn-primary"},"Go Back To Homepage"))}}]),a}(o.a.Component)),E=new(function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={authState:!1},n}return Object(i.a)(a,[{key:"isAuthenticated",value:function(){return this.state.authState}},{key:"changeAuthState",value:function(e){this.setState({authState:e})}},{key:"render",value:function(){return o.a.createElement("div",null)}}]),a}(o.a.Component)),g=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).handleLogout=function(){console.log("log out")},e}return Object(i.a)(a,[{key:"render",value:function(){console.log(this.props.children);var e={fontStyle:"italic",fontWeight:"bold"};return o.a.createElement("div",{style:{backgroundColor:"teal",minHeight:"15vh",alignItems:"center"},className:"row"},o.a.createElement("div",{className:"col-4 mr-2 ml-2 mt-3"},o.a.createElement("h3",null,"Hotel Celestial")),["Home","Services","About","Contact-us"].map((function(t){return o.a.createElement("div",{key:t},o.a.createElement(d.c,{to:"Home"!==t?t:"/",className:"text-center mr-2 mb-2 mt-3 btn btn-info",activeStyle:e},t))})),o.a.createElement("div",{className:"col-4 text-right mt-3 ml-5"},E.isAuthenticated()?o.a.createElement(p,{action:"Log out",logoutHandler:this.handleLogout}):o.a.createElement("div",null)))}}]),a}(o.a.Component),v=function(e){var t=e.component,a=e.path,n=Object(m.a)(e,["component","path"]);return o.a.createElement("div",null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col"},o.a.createElement(g,null),o.a.createElement(s.b,Object.assign({},n,{render:function(e){return o.a.createElement(s.b,{path:"/".concat(a),component:t})}})))))},b=function(e){var t=o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-3"},o.a.createElement(p,{path:"Complete your reservation"})),o.a.createElement("div",{className:"col-3"},o.a.createElement(p,{path:"Make reservation"})));return"/"===e.match.path?o.a.createElement("div",{className:"",style:{justifyContent:"center",alignItems:"center"}},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:" col"},o.a.createElement(g,null))),o.a.createElement("div",null,t),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5"}),o.a.createElement("h1",{className:"col- mt-5"},"Homepage"))):o.a.createElement("div",null,t)},f=a(11),N=a.n(f),y=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.loginForm;t[e.target.name]=e.target.value,n.setState({loginForm:t}),n.populateLoginFormDetails(e.target.name,e.target.value)},n.handleLogin=function(){N.a.post("http://127.0.0.1:8000/auth/login/",n.state.loginFormDetails).then((function(e){n.setState({allowLogin:!0}),E.changeAuthState(n.state.allowLogin)})).catch((function(e){return n.setState({loginFormErrors:e.response.data})}))},n.state={loginForm:{Email:"",Password:""},loginFormDetails:{},formErrors:{},allowLogin:!1,loginFormErrors:{}},n}return Object(i.a)(a,[{key:"populateLoginFormDetails",value:function(e,t){var a=this.state.loginFormDetails;a[e]=t,this.setState({loginFormDetails:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.loginForm)t.push(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5 mb-3"}," "),o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement("h2",null,"Log in:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mb-3"}," "),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-3 ml-3"},t.map((function(t,a){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.formErrors[t]),o.a.createElement("input",{className:"mt-3 mb-2 form-control",type:"Email"===t?"email":"password",placeholder:a>2?"Ensure both password fields are the same":"",name:t,value:e.state.loginForm[t],onChange:e.handleChange}))})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mr-4 mb-3 mt-3"},o.a.createElement(p,{action:"Log in",submitLogin:this.handleLogin,path:"dashboard"})),o.a.createElement("div",{className:"col ml-3 mb-3 mt-3"},o.a.createElement(p,{path:"Forgot password ?"}))),o.a.createElement("div",{className:"row mt-3"},o.a.createElement("div",{className:"col-10 mb-2 ml-5"},o.a.createElement(p,{action:"Log in with username instead",path:"username-login",resetPassword:this.handleResetPassword}))))))}}]),a}(o.a.Component),w=function(){return o.a.createElement("div",null,o.a.createElement("h2",null,"Dashboard"))},R=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.signupForm;t[e.target.name]=e.target.value,n.setState({signupForm:t}),n.populateSignupFormDetails(e.target.name,e.target.value)},n.handleSignup=function(e){console.log("\n\t Props: signing in..."),N.a.post("http://localhost:8000/auth/registration/",n.state.signupFormDetails).then((function(e){n.setState({allowSignin:!0}),E.changeAuthState(n.state.allowSignin),console.log(e.data)})).catch((function(e){n.setState({signupFormErrors:e.response.data}),console.log(e.response.data)}))},n.state={signupForm:{Firstname:"",Lastname:"",Email:"",Password:"","Confirm password":""},signupFormDetails:{},signupFormErrors:{},allowSignin:!1},n}return Object(i.a)(a,[{key:"populateSignupFormDetails",value:function(e,t){var a=this.state.signupFormDetails;a[e]=t,this.setState({signupFormDetails:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.signupForm)t.push(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5 mb-3"}," "),o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement("h2",null,"Sign up:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mb-3"}," "),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-3 ml-3"},t.map((function(t,a){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.signupFormErrors[t]),o.a.createElement("input",{className:"mt-3 mb-2 form-control",type:"Email"===t?"email":a<=1?"text":"password",placeholder:a>2?"Ensure both password fields are the same.":"",name:t,value:e.state.signupForm[t],onChange:e.handleChange}))})),o.a.createElement("div",{className:"mb-3 mt-3"},o.a.createElement(p,{action:"Sign up",submitRegistration:this.handleSignup,path:"dashboard"})))),o.a.createElement("div",null,!0===this.state.allowSignin?o.a.createElement(v,{path:"/dashboard",component:w}):o.a.createElement(s.a,{to:"/signin"})))}}]),a}(o.a.Component),F=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row",style:{fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif",backgroundColor:"aquamarine",minHeight:"100vh",fontWeight:"bold",fontStyle:"italic"}},o.a.createElement("div",{className:"col-4 mt-5 mb-5"}),o.a.createElement("div",{className:"col-4 mt-5"},o.a.createElement("h1",null,"PAGE NOT FOUND"),o.a.createElement("div",{className:"ml-5 col-8"},o.a.createElement(p,null)))))},k=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(){},n.handleResetPassword=function(){N.a.post("http<//127.0.0.1:8000/auth/reset-password",n.state.Email).then((function(e){n.setState({allowReset:!0}),E.changeAuthState(n.state.allowReset)})).catch((function(e){n.setState({formErrors:e.response.data})}))},n.state={Email:"",allowReset:!1,formErrors:{}},n}return Object(i.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col-5 mt-5"})),o.a.createElement("div",{className:"row mt-5"},o.a.createElement("div",{className:"col-4 ml-5"}),o.a.createElement("div",{className:"col-3 ml-4"},o.a.createElement("h2",null,"Password Reset:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-3 mr-5"}),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-5 form-group"},o.a.createElement("h5",{className:"mt-2"},"Email:"),this.state.formErrors.Email,o.a.createElement("input",{className:"form-control mb-3",type:"email",name:"Email",onChange:this.handleChange,placeholder:"Please enter the email-address you provided upon registration.",value:this.state.Email}),o.a.createElement("div",{className:"row mb-2 mt-2"},o.a.createElement("div",{className:"col-6"},o.a.createElement(p,{action:"Reset password"})),o.a.createElement("div",{className:"col ml-4"},o.a.createElement(p,{action:"Log in with username instead",path:"username-login",resetPassword:this.handleResetPassword}))))))}}]),a}(o.a.Component),C=function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.loginForm;t[e.target.name]=e.target.value,n.setState({loginForm:t}),n.populateLoginFormDetails(e.target.name,e.target.value)},n.handleLogin=function(){N.a.post("http://127.0.0.1:8000/auth/login/",n.state.loginFormDetails).then((function(e){n.setState({allowLogin:!0}),E.changeAuthState(n.state.allowLogin)})).catch((function(e){return n.setState({loginFormErrors:e.response.data})}))},n.state={loginForm:{Username:"",Password:""},loginFormDetails:{},formErrors:{},allowLogin:!1,loginFormErrors:{}},n}return Object(i.a)(a,[{key:"populateLoginFormDetails",value:function(e,t){var a=this.state.loginFormDetails;a[e]=t,this.setState({loginFormDetails:a})}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.loginForm)t.push(a);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-5 mt-5 mb-3"}," "),o.a.createElement("div",{className:"mt-3 mb-2"},o.a.createElement("h2",null,"Log in:"))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mb-3"}," "),o.a.createElement("div",{style:{backgroundColor:"lightseagreen",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"col-3 ml-3"},t.map((function(t,a){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.formErrors[t]),o.a.createElement("input",{className:"mt-3 mb-2 form-control",type:"Email"===t?"email":"password",placeholder:a>2?"Ensure both password fields are the same":"",name:t,value:e.state.loginForm[t],onChange:e.handleChange}))})),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 mr-4 mb-3 mt-3"},o.a.createElement(p,{action:"Log in",submitLogin:this.handleLogin,path:"dashboard"})),o.a.createElement("div",{className:"col ml-3 mb-3 mt-3"},o.a.createElement(p,{path:"Forgot password ?"}))))))}}]),a}(o.a.Component),S=(a(62),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t=n.state.roomReservationForm;t[e.target.name]=e.target.value,n.setState({roomReservationForm:t}),n.updateReservationDetails(e.target.name,e.target.value)},n.handleShowRoomList=function(e){e.preventDefault(),N.a.post("http://localhost:8000/create-occupant/",{firstname:n.state.roomReservationDetails.Firstname,lastname:n.state.roomReservationDetails.Lastname,email:n.state.roomReservationDetails.Email,phone:n.state.roomReservationDetails.Phone,duration:n.state.roomReservationDetails.Duration}).then((function(e){console.log("\n\t Status: ",e.status),n.setState({toggleRoomListDisplay:!0})})).catch((function(e){console.log("\n\t There were errors..."),n.setState({formErrorDetails:e.response.data}),console.log("\n\t Errors: ",e.response.data),console.log("\n\t State Errors: ",n.state.formErrorDetails)}))},n.state={roomReservationForm:{Firstname:"",Lastname:"",Email:"",Phone:"",Duration:""},roomReservationDetails:{},formErrorDetails:{},toggleRoomListDisplay:!1},n}return Object(i.a)(a,[{key:"updateReservationDetails",value:function(e,t){var a=this.state.roomReservationDetails;a[e]=t,this.setState({roomReservationDetails:a}),console.log("\n\t Details: ",this.state.roomReservationDetails)}},{key:"render",value:function(){var e=this,t=[];for(var a in this.state.roomReservationForm)t.push(a);return o.a.createElement("div",null,o.a.createElement("div",{className:"row mt-3"},o.a.createElement("div",{className:"col-2 ml-3 mr-5 mt-5"}),o.a.createElement("div",{className:"bg bg-textheading animate__animated animate__bounce col-5 ml-5"},o.a.createElement("h3",{className:"animate__animated animate__bounce animate__repeat-3\t3 col- mt-5 ml-5"},"Please fill in the required details to see the available rooms."))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-4 ml-2 mr-1"}),o.a.createElement("div",{style:{backgroundColor:"peru",border:"30px",borderColor:"#282c34",borderRadius:"10px",color:"black",fontFamily:"Georgia, Verdana, Geneva, Tahoma, sans-serif"},className:"animate__animated animate__swing col-4 m-3 form-group"},t.map((function(t){return o.a.createElement("div",{key:t},o.a.createElement("h5",{className:"mt-3"},t,":"),o.a.createElement("h4",null,e.state.formErrorDetails["".concat(t.toLowerCase())]),o.a.createElement("input",{className:"pl-2 mb-3 form-control",type:"Email"===t?"email":"Phone"===t?"tel":"Duration"===t?"number":"text",min:"Duration"===t?1:"",onChange:e.handleChange,value:e.state.roomReservationForm[t],name:t,placeholder:"Duration"===t?"Please, how long are you staying?":"Email"===t?"Please enter an active email address":"Lastname"===t?"Your surname, please.":""}))})),o.a.createElement("div",{className:"mb-2"},o.a.createElement(p,{action:"Available Rooms",path:"roomlist",showRoomList:this.handleShowRoomList})))),!0===this.state.toggleRoomListDisplay?o.a.createElement(s.a,{to:{pathname:"/roomlist",state:{occupant_details:this.state.roomReservationDetails}}}):o.a.createElement(s.a,{to:"/occupant-details"}))}}]),a}(o.a.Component)),D=(a(63),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).bookingHandler=function(e){var t=e;n.setState({permitRoomBooking:!0}),n.setState({chosenRoomDetails:t})},n.state={listOfRooms:[],permitRoomBooking:!1,chosenRoomDetails:{},occupant_details:[]},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({permitRoomBooking:!1}),N.a.get("http://127.0.0.1:8000/roomslist/").then((function(t){console.log("\n\t Rooms: ",t.data),e.setState({listOfRooms:t.data})})).catch((function(){e.setState({listOfRooms:"There are no available rooms yet"})}))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,this.state.listOfRooms?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"row"},o.a.createElement("h2",{className:"col"},"Available Rooms:")),o.a.createElement("table",{className:"table table-striped table-hover table_style\r animate__animated animate__heartBeat"},o.a.createElement("thead",null,o.a.createElement("tr",null,["Room type","Room price","Room number","Status"].map((function(e,t){return o.a.createElement("th",{key:t},e)})))),o.a.createElement("tbody",null,this.state.listOfRooms.map((function(t){return o.a.createElement("tr",{key:t.id},o.a.createElement("td",null,t.room_type),o.a.createElement("td",null,t.room_price),o.a.createElement("td",null,t.room_number),o.a.createElement("td",null,t.room_status),o.a.createElement("span",null,o.a.createElement(p,{action:"Book room",directToBookRoomPage:function(){return e.bookingHandler(t)}})))}))))):o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",null,"There are no available rooms yet")),!0===this.state.permitRoomBooking?o.a.createElement(s.a,{to:{pathname:"/room-reservation",state:{room_details:this.state.chosenRoomDetails,occupant_details:this.state.occupant_details}}}):o.a.createElement(s.a,{to:"/roomlist"}))}}]),a}(o.a.Component)),O=(a(64),function(e){Object(u.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).handleChangePhone=function(e){e.preventDefault(),n.setState({occupants_phone:e.target.value})},n.state={room_details:{},occupants_phone:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){if(this.props.location.state){var e=this.props.location.state.room_details;console.log("Room Details",e),this.setState({room_details:e})}}},{key:"render",value:function(){var e=this,t=["room_type","room_price","room_number"];return o.a.createElement("div",{className:"row reservation_style animate__animated animate__pulse"},o.a.createElement("section",{className:"form-style form-group col-4"},o.a.createElement("h3",{className:"mt-3"}," Room Details:"),["Room-type","Room-price","Room-number"].map((function(a,n){return o.a.createElement("span",{key:n},o.a.createElement("h5",{className:"col-4"}," ",a," ")," ",o.a.createElement("br",null),o.a.createElement("input",{className:"col form-control",disabled:!0,name:a,defaultValue:e.state.room_details[t[0]],value:e.state.room_details[t[0]]}))})),o.a.createElement("span",{className:"mb-3"},o.a.createElement(p,{path:"roomlist",text:"Change room"}))),o.a.createElement("section",{className:"form-style form-group col-4 ml-2"},o.a.createElement("h4",null," Please enter your phone number to proceed: "),o.a.createElement("span",null,o.a.createElement("input",{className:"form-control",type:"tel",required:"true",name:"phone",value:this.state.occupants_phone,onChange:this.handleChangePhone,placeholder:"Please enter your phone number"})," ",o.a.createElement("br",null)),o.a.createElement("strong",null,"Please ensure the provided data is valid."),o.a.createElement("span",{className:"mt-4"},o.a.createElement(p,{path:"payment",text:"Proceed to payment"}))))}}]),a}(o.a.Component)),_=function(){return o.a.createElement("div",null,o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/",exact:!0,component:b}),o.a.createElement(s.b,{path:"/login",component:y}),o.a.createElement(s.b,{path:"/signin",component:R}),o.a.createElement(s.b,{path:"/forgot-password",component:k}),o.a.createElement(s.b,{path:"/username-login",component:C}),o.a.createElement(s.b,{path:"/occupant-details",component:S}),o.a.createElement(s.b,{path:"/roomlist",component:D}),o.a.createElement(s.b,{path:"/room-reservation",component:O}),o.a.createElement(s.b,{component:F})))},j=function(){return o.a.createElement("div",{className:" img App"},o.a.createElement(s.d,null,o.a.createElement(_,{exact:!0}),o.a.createElement(v,null)))};a(65);l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(d.a,null,o.a.createElement(j,null))),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.f17b342f.chunk.js.map